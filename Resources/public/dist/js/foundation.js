/*! Anyone */
/*! BackendSteeringWheel4AntD - v0.0.1 - 2019-12-28 */
"use strict";function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),FoundationPrototype=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"trim",value:function(a,b){return b=b?"\\s"+b:"\\s",a.replace(new RegExp("(^["+b+"]*)|(["+b+"]*$)","g"),"")}},{key:"leftTrim",value:function(a,b){return b=b?"\\s"+b:"\\s",a.replace(new RegExp("(^["+b+"]*)","g"),"")}},{key:"rightTrim",value:function(a,b){return b=b?"\\s"+b:"\\s",a.replace(new RegExp("(["+b+"]*$)","g"),"")}},{key:"pad",value:function(a,b,c,d){if(b=b.toString(),d=d||"left",a.length>=c||!["left","right","both"].contains(d))return a;var e=(c-a.length)%b.length,f=void 0,g=void 0;f=g=Math.floor((c-a.length)/b.length),e>0&&(f+=1);for(var h=a,i=0;i<f;i++)switch(i===g&&(b=b.substr(0,e)),d){case"left":h=b+h;break;case"right":h+=b;break;case"both":h=0===i%2?b+h:h+b}return h}},{key:"fill",value:function(a,b,c,d){if(b=b.toString(),d=d||"left",c<1||!["left","right","both"].contains(d))return a;for(var e=a,f=0;f<c;f++)switch(d){case"left":e=b+e;break;case"right":e+=b;break;case"both":e=0===f%2?b+e:e+b}return e}},{key:"repeat",value:function(a,b){return b=isNaN(b)||b<1?1:b+1,new Array(b).join(a)}},{key:"ucWords",value:function(a){return a.replace(/\b(\w)+\b/g,function(a){return a.replace(a.charAt(0),a.charAt(0).toUpperCase())})}},{key:"ucFirst",value:function(a){return a.replace(a.charAt(0),a.charAt(0).toUpperCase())}},{key:"lcFirst",value:function(a){return a.replace(a.charAt(0),a.charAt(0).toLowerCase())}},{key:"bigHump",value:function(a,b){b=b||"-";var c=new RegExp(b,"g");return a.replace(c," ").ucWords().replace(/ /g,"")}},{key:"smallHump",value:function(a,b){return a.bigHump(b).lcFirst()}},{key:"format",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss",c={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var d in c)new RegExp("("+d+")").test(b)&&(b=b.replace(RegExp.$1,1===RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return b}},{key:"arrayUnique",value:function(a){return Array.from(new Set(a))}},{key:"arrayRemoveValue",value:function(a,b){var c=a.indexOf(b);return c>-1&&a.splice(c,1),a}},{key:"arrayIntersect",value:function(a,b){return a.filter(function(a){return b.indexOf(a)>-1})}},{key:"arrayDifference",value:function(a,b){return a.filter(function(a){return b.indexOf(a)===-1})}},{key:"arrayComplement",value:function(a,b){return a.filter(function(a){return!(b.indexOf(a)>-1)}).concat(b.filter(function(b){return!(a.indexOf(b)>-1)}))}},{key:"arrayUnion",value:function(a,b){return a.concat(b.filter(function(b){return!(a.indexOf(b)>-1)}))}},{key:"swap",value:function(a,b,c){return a[b]=a.splice(c,1,a[b])[0],a}},{key:"up",value:function(a,b){return 0===b?a:this.swap(a,b,b-1)}},{key:"down",value:function(a,b){return b===a.length-1?a:this.swap(a,b,b+1)}}]),a}(),FoundationTools=function(a){function b(){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return _inherits(b,a),_createClass(b,null,[{key:"blank",value:function(){}},{key:"isArray",value:function(a){return null!==a&&("object"===("undefined"==typeof a?"undefined":_typeof(a))&&a.constructor===Array)}},{key:"isObject",value:function(a){return null!==a&&("object"===("undefined"==typeof a?"undefined":_typeof(a))&&a.constructor===Object)}},{key:"isJson",value:function(a){return null!==a&&("object"===("undefined"==typeof a?"undefined":_typeof(a))&&"[object object]"===Object.prototype.toString.call(a).toLowerCase())}},{key:"isString",value:function(a){return null!==a&&("string"==typeof a&&a.constructor===String)}},{key:"isNumeric",value:function(a){return null!==a&&""!==a&&!isNaN(a)}},{key:"isBoolean",value:function(a){return null!==a&&("boolean"==typeof a&&a.constructor===Boolean)}},{key:"isFunction",value:function(a){return null!==a&&("function"==typeof a&&"[object function]"===Object.prototype.toString.call(a).toLowerCase())}},{key:"jsonLength",value:function(a){var b=0,c=void 0;for(c in a)b++;return b}},{key:"offset",value:function(a){a=a.jquery?a:$(a);var b=a.offset();return{left:b.left,top:b.top,width:a[0].offsetWidth,height:a[0].offsetHeight}}},{key:"timestamp",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=(new Date).getTime();return a?Math.ceil(b/1e3):b}},{key:"parseQueryString",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a=decodeURIComponent(a||location.href),a.indexOf("?")===-1&&(a+="?");var c={},d=a.split("?");if(b&&(c.hostPart=d[0]),a=d[1],0===a.length)return c;a.indexOf("#")&&(a=a.split("#")[0]),a=a.split("&");var e=!0,f=!1,g=void 0;try{for(var h,i=a[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value;j=j.split("="),c[j[0]]=j[1]}}catch(a){f=!0,g=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw g}}return c}},{key:"jsonBuildQuery",value:function(a){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],e="",f={},g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0;for(g in a)if(a.hasOwnProperty(g))if(h=a[g],b.isArray(h))for(m=0;m<h.length;++m)k=h[m],i=g+"["+m+"]",l={},l[i]=k,e+=this.jsonBuildQuery(l,c,d)+"&",f=Object.assign(f,this.jsonBuildQuery(l,c,d));else if(b.isObject(h))for(j in h)h.hasOwnProperty(j)&&(k=h[j],i=g+"["+j+"]",l={},l[i]=k,e+=this.jsonBuildQuery(l,c,d)+"&",f=Object.assign(f,this.jsonBuildQuery(l,c,d)));else void 0!==h&&null!==h&&(d&&(g=encodeURIComponent(g),h=encodeURIComponent(h)),e+=g+"="+h+"&",f[g]=h);return c?f:e.length?e.substr(0,e.length-1):e}},{key:"setParams",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=this.parseQueryString(b,!0),e=d.hostPart;delete d.hostPart,a=Object.assign(d,this.jsonBuildQuery(a,!0,c));var f=this.jsonBuildQuery(a);return b=e+"?"+f,FoundationPrototype.trim(b,"?")}},{key:"unsetParams",value:function(a,b){b=b||location.href;var c=this.parseQueryString(b,!0),d=!0,e=!1,f=void 0;try{for(var g,h=(a||[])[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;"undefined"!=typeof c[i]&&delete c[i]}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}var j=c.hostPart;return delete c.hostPart,b=j+"?"+decodeURI(this.jsonBuildQuery(c)),FoundationPrototype.trim(b,"?")}},{key:"unsetParamsBeginWith",value:function(a,b){b=b||location.href;var c=this.parseQueryString(b,!0),d=!0,e=!1,f=void 0;try{for(var g,h=(a||[])[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;for(var j in c)c.hasOwnProperty(j)&&j.startsWith(i)&&delete c[j]}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}var k=c.hostPart;return delete c.hostPart,b=k+"?"+decodeURI(this.jsonBuildQuery(c)),FoundationPrototype.trim(b,"?")}},{key:"pam",value:function(a,b,c,d){b=b||1,c=c||["margin","padding"],d=d||["left","right"];var e=0;return c.each(function(c){d.each(function(d){e+=parseInt(a.css(c+"-"+d))*b})}),e}},{key:"device",value:function(){var a=navigator.userAgent;return{ie:a.indexOf("Trident")>-1,opera:a.indexOf("Presto")>-1,chrome:a.indexOf("AppleWebKit")>-1,firefox:a.indexOf("Gecko")>-1&&a.indexOf("KHTML")===-1,mobile:!!a.match(/AppleWebKit.*Mobile.*/),ios:!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:a.indexOf("Android")>-1||a.indexOf("Linux")>-1,iPhone:a.indexOf("iPhone")>-1,iPad:a.indexOf("iPad")>-1,webApp:a.indexOf("Safari")===-1,version:navigator.appVersion}}},{key:"isMobile",value:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},{key:"rand",value:function(a,b){b=b||0;var c=b,d=a-c;return parseInt(Number(Math.random()*d).toFixed(0))+c}},{key:"keyBind",value:function(a,b,c,d){c=c||$(document),c.unbind("keydown").bind("keydown",function(c){d?c.keyCode===a&&c.ctrlKey&&b&&b():c.keyCode===a&&b&&b()})}},{key:"media",value:function(){var a=document.body.clientWidth;return{xs:a<576,sm:a>=576,md:a>=768,lg:a>=992,xl:a>=1200,xxl:a>=1600}}},{key:"parseInt",value:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a){return a=parseInt(a),isNaN(a)?0:a})},{key:"cookie",value:function(){return{set:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:31536e3,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,e=new Date;return e.setTime(e.getTime()+1e3*c),d=d?"; domain="+d:"",document.cookie=a+"="+encodeURI(b)+"; expires="+e.toUTCString()+"; path=/"+d,b},get:function(a){for(var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=document.cookie.split("; "),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]===a)return unescape(e[1])}return b},delete:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;b=b?"; domain="+b:"",document.cookie=a+"=; expires="+new Date(0).toUTCString()+"; path=/"+b}}}},{key:"cookieMapNext",value:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],e=this.cookie(),f=e.get(a,c),g=b[f]||c;return d?e.set(a,g):g}},{key:"cookieMapCurrent",value:function(a,b,c){var d=this.cookie().get(a,c);return b[d]?d:c}},{key:"evalExpr",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=null;try{c=window.eval("("+a+")")}catch(b){console.warn("Expression has syntax error: "+a),console.error(b)}return c?c:b}},{key:"switchClass",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"html",d=$(c);d.removeClass(a),"yes"===b&&d.addClass(a)}},{key:"checkJsonDeep",value:function(a,b){var c=a;b=b.split(".");var d=!0,e=!1,f=void 0;try{for(var g,h=b[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;if("undefined"==typeof c[i]||!c[i])return!1;c=c[i]}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return!0}}]),b}(FoundationPrototype),FoundationAntD=function(a){function b(a,c,d,e){_classCallCheck(this,b);var f=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return f.v=d,f.d=e,f.config={},f.cnf=Object.assign({lang:{},rsaPublicKey:null,marginTop:"150px",loadingMarginTop:"250px",shade:.1,zIndex:9999,requestTimeout:30,notificationDuration:6,messageDuration:6,confirmDuration:6,alertType:"message",notificationPlacement:"topRight",v:null,method:{get:"GET",post:"POST"}},a),f}return _inherits(b,a),_createClass(b,[{key:"configure",value:function(a){for(var b in a)a.hasOwnProperty(b)&&(this.config[b]=Object.assign(this.config[b]||{},a[b]))}},{key:"vue",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".app-content",b=this,c={};return{template:function(a){return a&&(c.template=a),this},data:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.data=function(){return a},this},computed:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.computed=a,this},method:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.methods=a,this},component:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.components=a,this},directive:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.directives=a,this},init:function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:self.blank;c.el=a,b.cnf.v=new b.v(c),d(b.cnf.v)}}}},{key:"notification",value:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:self.blank;"undefined"==typeof c&&(c=this.cnf.notificationDuration);var e={success:this.cnf.lang.success||"Success",info:this.cnf.lang.info||"Information",warning:this.cnf.lang.warning||"Warning",error:this.cnf.lang.error||"Error"}[a];return this.cnf.v.$notification[a]({placement:this.cnf.notificationPlacement,message:e,description:b,duration:c,onClose:d})}},{key:"message",value:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:self.blank;return"undefined"==typeof c&&(c=this.cnf.messageDuration),this.cnf.v.$message[a](b,c,d)}},{key:"confirm",value:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:self.blank,e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},f=e.title||{success:this.cnf.lang.success||"Success",info:this.cnf.lang.info||"Information",warning:this.cnf.lang.warning||"Warning",error:this.cnf.lang.error||"Error"}[a],g=this.cnf.v["$"+a](Object.assign({title:f,content:b,okText:this.cnf.lang.i_got_it||"I got it",onCancel:d,onOk:d},e));return"undefined"==typeof c&&(c=this.cnf.confirmDuration),c&&setTimeout(function(){g.destroy()},1e3*c),g}},{key:"success",value:function(a,b,c,d){return this[d||this.cnf.alertType]("success",a,b,c)}},{key:"info",value:function(a,b,c,d){return this[d||this.cnf.alertType]("info",a,b,c)}},{key:"warning",value:function(a,b,c,d){return this[d||this.cnf.alertType]("warning",a,b,c)}},{key:"error",value:function(a,b,c,d){return this[d||this.cnf.alertType]("error",a,b,c)}},{key:"showConfirm",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.cnf.v.$confirm(Object.assign({title:b,content:a,keyboard:!1,okText:this.cnf.lang.okay||"Okay",cancelText:this.cnf.lang.cancel||"Cancel"},c))}},{key:"request",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cnf.method.post,d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,f=this;return new Promise(function(g,h){$.ajax({type:d?f.cnf.method.post:c,data:b,url:a,processData:!d,contentType:!d&&"application/x-www-form-urlencoded",timeout:1e3*f.cnf.requestTimeout,beforeSend:function(){f.cnf.v.spinning=!0},success:function(a){f.cnf.v.spinning=!1,g(a)},error:function(g){if(f.cnf.v.spinning=!1,g.responseJSON){var i=g.responseJSON,j="["+i.code+"] "+i.message;return f.confirm(i.classify,j,0,null,{width:600})}if(g.responseText){var k="["+g.status+"] "+g.statusText;return f.confirm("error",k,0,null)}return"timeout"===g.statusText&&(console.warn("Client request timeout: ",g),console.log("Retry current request in times "+e),e<=3)?f.request(a,b,c,d,++e):void h(g)}})})}},{key:"response",value:function(a,b,c,d){if("undefined"==typeof a.code)return this.error("Oops! something went wrong");var e=this;return new Promise(function(f,g){var h=function(a){g(a),"undefined"!=typeof a.sets.href&&(location.href=a.sets.href||location.href)},i=function(a){f(a),"undefined"!=typeof a.sets.href&&(location.href=a.sets.href||location.href)};a.error?(a.message?e[a.classify](a.message).then(function(){h(a)}).catch(function(a){console.warn(a)}):h(a),c&&c(a)):(a.message?e[a.classify](a.message,a.duration||d).then(function(){i(a)}).catch(function(a){console.warn(a)}):i(a),b&&b(a))})}},{key:"rsaEncrypt",value:function(a){var b=new JSEncrypt;return b.setPublicKey(this.cnf.rsaPublicKey),b.encrypt(a)}},{key:"chart",value:function a(b){var a=echarts.init(document.getElementById("chart-"+b.id),b.theme),c=b.option;FoundationTools.checkJsonDeep(c,"tooltip.formatter")&&(":stackBar"===c.tooltip.formatter?c.tooltip.formatter=function(a){var b=0,c=!0,d=!1,e=void 0;try{for(var f,g=a[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;b+=Math.floor(100*Number.parseFloat(h.data))}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}b/=100;var i=a[0].name+" ("+b+")<br>",j=!0,k=!1,l=void 0;try{for(var m,n=a[Symbol.iterator]();!(j=(m=n.next()).done);j=!0){var o=m.value,p=100*(Number.parseFloat(o.data)/b||0);p=p.toFixed(2),i+=o.marker+" "+o.seriesName+": "+o.data+" ("+p+"%)<br>"}}catch(a){k=!0,l=a}finally{try{!j&&n.return&&n.return()}finally{if(k)throw l}}return i}:":pictorialBar"===c.tooltip.formatter&&(c.tooltip.formatter=function(a){return a[0].name+": "+a[0].value})),a.setOption(c)}}]),b}(FoundationTools);